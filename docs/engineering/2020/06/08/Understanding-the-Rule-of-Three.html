<!DOCTYPE html>

<html>

<head>
  <meta charset="utf-8">
<title>Understanding the Rule of Three</title>
<meta name="description" content="Adopting Benefit-First is how you'll fully understand the Rule of Three to make better engineering decisions.">
<meta name="keywords" content="engineering">
<!-- Twitter Card and Open Graph tags -->
<meta name="twitter:title" content="Understanding the Rule of Three">
<meta name="twitter:description" content="Adopting Benefit-First is how you'll fully understand the Rule of Three to make better engineering decisions.">
<meta name="twitter:creator" content="@miere">
<meta name="twitter:card" content="summary">
<meta property="og:type" content="article">
<meta property="og:title" content="Understanding the Rule of Three">
<meta property="og:description" content="Adopting Benefit-First is how you'll fully understand the Rule of Three to make better engineering decisions.">
<meta property="og:url" content="https://miere.observer/engineering/2020/06/08/Understanding-the-Rule-of-Three.html">
<meta property="og:site_name" content="">

<meta property="og:image" content="https://imgs.xkcd.com/comics/automation.png" />
<meta name="twitter:image:src" content="https://imgs.xkcd.com/comics/automation.png">


<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-RT4RL09JGB"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-RT4RL09JGB');
</script>

<!-- Webmaster Tools verfication -->




<link rel="canonical" href="https://miere.observer/engineering/2020/06/08/Understanding-the-Rule-of-Three.html">
<link href="https://miere.observer/feed.xml" type="application/atom+xml" rel="alternate" title=" Feed">

<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />

<!-- External Fonts -->
<link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Raleway:ital,wght@0,100;0,200;0,300;0,400;0,600;0,700;1,100;1,200;1,300;1,400;1,600;1,700&display=swap" rel="stylesheet">

<!-- Styles -->

<link rel="stylesheet" href="/css/base.css" type="text/css" />


</head>
<body>
  <div class="header-container container">
  <header>
    <a href="https://miere.observer" class="top-link">Miere's Personal Observations</a>
    <ul class="nav">
      <!--Change the  URL here if working on an absolute domain-->
      <li><a href="https://miere.observer">Home</a></li>
      <li><a href="https://miere.observer/about">About</a></li>
      
        <li><a href="https://github.com/miere" target="_blank">Projects</a></li>
      
      <li><a href="https://miere.observer/feed.xml">RSS</a></li>
    </ul>
  </header>
</div>

  <div class="container">
  <h1>Understanding the Rule of Three</h1>
<div class="post-details">
  <img src="../../../../myself.jpeg">
  <div>
    <span class="post-author">Miere Liniel Teixeira</span>
    <span class="post-date">08 Jun 2020</span>
  </div>
  <div class="pagination">
    
      <a href="https://www.linkedin.com/in/miere" class="social-media-icons"><i class="fa fa-2x fa-linkedin-square" aria-hidden="true"></i></a>
    
    
      <a href="mailto:miere00@gmail.com" class="social-media-icons"><i class="fa fa-2x fa-envelope-square" aria-hidden="true"></i></a>
    
    
      <a href="https://twitter.com/miere" class="social-media-icons"><i class="fa fa-2x fa-twitter-square" aria-hidden="true"></i></a>
    
    
      <a href="https://github.com/miere" class="social-media-icons"><i class="fa fa-2x fa-github-square" aria-hidden="true"></i></a>
    
  </div>
</div>

<div class="post">
<p>There is this subconscious understanding that unnecessary complexity is root of all evil in software development. We have been <a href="https://twitter.com/search?q=dependency%20hell&amp;src=typed_query">fiercely ranting about the dreadful experience</a> caused by the dependency hell. We’ve been detracting legacy code as <a href="https://s3.amazonaws.com/systemsandpapers/papers/bigballofmud.pdf">big ball of mud because</a> nobody can honestly understand how it works. Fearlessly, we’ve been <a href="https://twitter.com/kumar_abhirup/status/1267777496524574721">shushing our developer mates</a> arguing that they’ve done the wrong coding choices.</p>

<p>It is funny how Machiavellian we can become in name of the simplicity. Surely, we can have better days with less cyclic dependencies, we probably can adopt better design patterns or even avoid syntaxes that ordinary people can’t easily read in our source code. But, to remove complexity from our daily routine, we need a systematic approach that help us to weigh up the benefits of every piece of code we introduce in our software.</p>

<h2 id="the-rule-of-three">The rule of three</h2>
<p class="image right-panel no-background">
    <img src="https://imgs.xkcd.com/comics/automation.png" />
    <small>Source: <a href="https://xkcd.com/1319/">xkcd</a></small>
</p>

<p><strong>Benefit-first</strong> <sup id="fnref:3" role="doc-noteref"><a href="#fn:3" class="footnote" rel="footnote">1</a></sup> is a technique to guide the decisions you made when you develop a software. Basically, before introduce any piece of code on your software you have to list pros and cons of adopting it, and analyse the impact of maintaining it in short and long term. If the benefit of introducing it is bigger than the cost of maintaining it, then it is probably safe to proceed.</p>

<p>The first piece of advice I’ve ever read that advocated a similar approach came from Martin Fowler on his iconic book <a href="https://archive.org/details/isbn_9780201485677">Refactoring</a>. According to him, we should adopt the <a href="https://en.wikipedia.org/wiki/Rule_of_three_(computer_programming)">rule of three</a> to drive our refactoring decisions, avoiding overcomplicated strategies that might need to <a href="https://www.sandimetz.com/blog/2016/1/20/the-wrong-abstraction">be rethink again in the future</a>. As the book got notorious and relevant, the Rule of Three has been constantly repeated on the internet with subjective definition and, in some cases, with no clear steps to reproduce this technique in the future.</p>

<h2 id="distinguishing-chance-coincidence-and-trend">Distinguishing Chance, Coincidence and Trend</h2>
<p>My professor of Statistics once taught me about a similar concept: identifying trend behaviour. Letting all mathematic formulas aside, I would reproduce his reasoning and translate to the Software Development world as follows:</p>
<ul>
  <li><strong>Take a chance and design the most simplistic solution to your problem</strong>. As you have a simple piece of code testing it take less time, and it will be easier to adapt in case your needs change.</li>
  <li><strong>Treat further changes as a coincidence</strong>. We have this instinct to introduce generic solutions to solve problems that might happen in the future. A premature generalization might require further refactoring, or might even be removed altogether being replaced by a different approach in the future. Sometimes, a simple if/else statement is our best choice.</li>
  <li><strong>A good hint to identify trend behaviours is the introduction of duplicated pieces of code</strong>. That’s the perfect opportunity to introduce abstractions that not only removes these duplications but also allows developers to extend the current logic without modifying it <sup id="fnref:2" role="doc-noteref"><a href="#fn:2" class="footnote" rel="footnote">2</a></sup>.</li>
</ul>

<p>By looking to these rules it is clear that they focus on the software design, diverging from its original proposal as a technique to help you to refactor your code wisely. <em>By adopting it in the early stages of the development, we enforce simple and evolving code over reactive trial-error-refactor approach</em>, where complex solutions will be introduced only when we need to solve a complex problem.</p>

<h2 id="final-thoughts">Final Thoughts</h2>
<p>Sometimes the requirements are clear enough so you can jump into the complex solution straightaway, but that is not usually the case. The above mindset was an attempt to narrow down the Rule of Three scope and try to make it more reproducible on a daily-basis. As a bonus hint, I’d like to left here another definition that approaches the Rule of Three as something totally different way. I found it when I was reviewing the references for this article and it has been echoing on my mind for a bit of time already. Hopefully it will be just as enlightening for you as it was for me.</p>

<blockquote class="quote">
    <p>There are two "rules of three" in [software] reuse:</p>
    <ul>
        <li>It is three times as difficult to build reusable components as single use components, and</li>
        <li>a reusable component should be tried out in three different applications before it will be sufficiently general to accept into a reuse library.</li>
    </ul>
    <footer>
        <cite>- Fact#18 from <a href="https://www.amazon.com/Facts-Fallacies-Software-Engineering-FORGOT-ebook-dp-B001TKD4RG/dp/B001TKD4RG">Facts and Fallacies of Software Engineering</a></cite>
    </footer>
</blockquote>

<div class="footnotes" role="doc-endnotes">
  <ol>
    <li id="fn:3" role="doc-endnote">
      <p>Benefit-first isn’t a term carved by me. Although I’ve never saw any specific mention to this term on a book or a lecture before, I heard about it a few years ago from my <a href="https://twitter.com/anielson">first mentor</a> and I’ve been using it since then. <a href="#fnref:3" class="reversefootnote" role="doc-backlink">&#8617;</a></p>
    </li>
    <li id="fn:2" role="doc-endnote">
      <p>The <a href="https://stackify.com/solid-design-open-closed-principle/">Open-Closed Principle</a> is the perfect technique for this job as, by definition, it closes out methods or classes for modification by introducing customization points that allow it to be extended from outside. <a href="#fnref:2" class="reversefootnote" role="doc-backlink">&#8617;</a></p>
    </li>
  </ol>
</div>

</div>

<hr>
<p style="font-style: italic;">If you read this far, <a target="blank" 
  href="https://twitter.com/intent/tweet?related=miere&text=https://miere.observer%2Fengineering%2F2020%2F06%2F08%2FUnderstanding-the-Rule-of-Three.html">
  share this post with your friends</a>. If you have any question, or utterly disagree with what was written above,
  please login with your Github account and write down your comments.
</p>

<!-- Allow users to Comment -->
<script src="https://utteranc.es/client.js"
        repo="miere/miere.observer"
        issue-term="title"
        label="Comment"
        theme="github-light"
        crossorigin="anonymous"
        async>
</script>


  


<div class="footer-pagination">
  <span class="copyright">&copy; 2021 Miere Liniel Teixeira</span>
</div>
  </div><!-- /.main -->
</body>
</html>